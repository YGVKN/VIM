<!DOCTYPE html>
<!-- This site was created in Webflow. http://www.webflow.com-->
<!-- Last Published: Fri Nov 13 2015 01:48:45 GMT+0000 (UTC) -->
<html lang="en" data-wf-site="56414d6fc8c27cad0f4e12e7" data-wf-page="5643ac587b1f28dc58ed6b89">
<head>
  <meta charset="utf-8">
  <title>Clojure - Clojure Deref (Sept 17, 2021)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Webflow">
  <meta name="google-site-verification" content="a30CDuC9UBifM7EL575LK9a4TEE6mNfWbKqXIoSZChg" />
  <meta name="google-site-verification" content="iXqpntr4CN3JRM1sVm5D_YzZw8bFRizBaTVycwqii2E" />
  <meta name="keywords" content="clojure,programming" />
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&family=PT+Serif:ital@0;1&&family=Source+Code+Pro:wght@500&display=swap">
  <link rel="stylesheet" type="text/css" href="/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="/css/webflow.css">
  <link rel="stylesheet" type="text/css" href="/css/clojureorg.webflow.css">
  <link rel="stylesheet" type="text/css" href="/css/asciidoctor-mod.css">
  <link type="text/css" href="/css/default-en.css" rel="stylesheet">
  <link type="text/css" href="/css/default.css" rel="stylesheet">
  <link type="text/css" href="/css/search-result.css" rel="stylesheet">
  <link rel="alternate" type="application/atom+xml" title="News" href="/feed.xml" />
  <script type="text/javascript" src="/js/modernizr.js"></script>
  <link rel="shortcut icon" type="image/x-icon" href="/images/clojure-logo-icon-32.png">
  <link rel="apple-touch-icon" href="/images/clojure-logo-icon-256.png">
  <!-- Matomo -->
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://cognitect.matomo.cloud/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '9']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src='//cdn.matomo.cloud/cognitect.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
<!-- End Matomo Code -->
  <script type="text/javascript">
    function searchClj(obj) {
      let e = document.getElementById("searchType");
      document.getElementById("hiddenSearch").value=e.value;
    }
  </script>
</head>
<body>
  <div data-collapse="none" data-animation="default" data-duration="400" data-contain="1" class="w-nav clj-navbar">
    <div class="w-container">
      <a href="/index" class="w-nav-brand w-clearfix clj-logo-container"><img width="60" src="/images/clojure-logo-120b.png" class="clj-logo" alt="Clojure logo">
        <div class="clj-logo-text">Clojure</div>
      </a>
      <nav role="navigation" class="w-nav-menu clj-nav-menu"><a href="/about/rationale" class="w-nav-link clj-nav-link">Overview</a><a href="/reference/documentation" class="w-nav-link clj-nav-link">Reference‍</a><a href="/api/api" class="w-nav-link clj-nav-link">API</a><a href="/releases/downloads" class="w-nav-link clj-nav-link">Releases</a><a href="/guides/guides" class="w-nav-link clj-nav-link">Guides</a><a href="/community/success_stories" class="w-nav-link clj-nav-link">Community</a><a href="/dev/dev" class="w-nav-link clj-nav-link">Dev</a><a href="/news/news" class="w-nav-link clj-nav-link">News</a><a href="#" data-ix="search-click-trigger" class="w-nav-link clj-nav-link clj-nav-search">&#xed11;</a>
      </nav>
      <div class="w-nav-button clj-menu-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <div data-ix="hide-search" class="w-section clj-search-section">
    <div class="w-container">
      <div class="w-form clj-search-form-wrapper">
        <form id="wf-form-Search-Form" name="wf-form-Search-Form" action="https://duckduckgo.com/" method="get" onSubmit="searchClj(this)">
          <div class="w-row">
            <div class="w-col w-col-6 w-col-small-6">
              <input id="hiddenSearch" type="hidden" name="sites" value="www.clojure.org">
              <input name="q" id="q" type="text" placeholder="Search clojure.org reference, guides, and API" title="Search text" autofocus="autofocus" class="w-input clj-search-input">
            </div>
            <div class="w-col w-col-3 w-col-small-3 clj-search-type">
              <select name="searchType" id="searchType" class="w-select clj-search-type">
                <option value="www.clojure.org">clojure.org</option>
                <option value="ask.clojure.org">ask.clojure.org</option>
              </select>
            </div>
            <div class="w-col w-col-3 w-col-small-3">
              <input type="submit" value="Search" class="w-button clj-search-submit">
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

<div class="w-section clj-content-section">
  <div class="w-container">
    <div class="clj-section-nav-container">
      <div data-collapse="small" data-animation="default" data-duration="200" data-contain="1" class="w-nav clj-section-navbar">
        <div class="w-container">
          <nav role="navigation" class="w-nav-menu clj-section-nav-menu">
                <a href="/news/2023/12/15/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 15, 2023)</a>
                <a href="/news/2023/12/08/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 8, 2023)</a>
                <a href="/news/2023/12/01/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 1, 2023)</a>
                <a href="/news/2023/11/24/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 24, 2023)</a>
                <a href="/news/2023/11/17/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 17, 2023)</a>
                <a href="/news/2023/11/10/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 10, 2023)</a>
                <a href="/news/2023/11/03/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 3, 2023)</a>
                <a href="/news/2023/10/27/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 27, 2023)</a>
                <a href="/news/2023/10/23/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 23, 2023)</a>
                <a href="/news/2023/10/20/clojure-1-12-alpha5" class="w-nav-link clj-section-nav-item-link">Clojure 1.12.0-alpha5</a>
                <a href="/news/2023/10/16/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 16, 2023)</a>
                <a href="/news/2023/10/06/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 6, 2023)</a>
                <a href="/news/2023/09/29/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sept 29, 2023)</a>
                <a href="/news/2023/09/22/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sept 22, 2023)</a>
                <a href="/news/2023/09/15/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sept 15, 2023)</a>
                <a href="/news/2023/09/08/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sept 8, 2023)</a>
                <a href="/news/2023/09/01/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sept 1, 2023)</a>
                <a href="/news/2023/08/25/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 25, 2023)</a>
                <a href="/news/2023/08/18/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 18, 2023)</a>
                <a href="/news/2023/08/11/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 11, 2023)</a>
                <a href="/news/2023/08/06/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 6, 2023)</a>
                <a href="/news/2023/08/04/next-rich" class="w-nav-link clj-section-nav-item-link">(next Rich)</a>
                <a href="/news/2023/07/28/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 28, 2023)</a>
                <a href="/news/2023/07/20/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 20, 2023)</a>
                <a href="/news/2023/07/07/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 7, 2023)</a>
                <a href="/news/2023/06/30/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 30, 2023)</a>
                <a href="/news/2023/06/30/state-of-clojure-2023" class="w-nav-link clj-section-nav-item-link">State of Clojure 2023 Results</a>
                <a href="/news/2023/06/23/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 23, 2023)</a>
                <a href="/news/2023/06/16/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 16, 2023)</a>
                <a href="/news/2023/06/09/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 9, 2023)</a>
                <a href="/news/2023/06/02/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 2, 2023)</a>
                <a href="/news/2023/05/26/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (May 26, 2023)</a>
                <a href="/news/2023/05/19/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (May 19, 2023)</a>
                <a href="/news/2023/05/12/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (May 12, 2023)</a>
                <a href="/news/2023/05/05/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (May 5, 2023)</a>
                <a href="/news/2023/05/01/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (May 1, 2023)</a>
                <a href="/news/2023/04/28/introducing-morse" class="w-nav-link clj-section-nav-item-link">Introducing Morse</a>
                <a href="/news/2023/04/21/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Apr 21, 2023)</a>
                <a href="/news/2023/04/14/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Apr 14, 2023)</a>
                <a href="/news/2023/04/14/clojure-1-12-alpha2" class="w-nav-link clj-section-nav-item-link">Clojure 1.12.0-alpha2</a>
                <a href="/news/2023/04/10/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Apr 10, 2023)</a>
                <a href="/news/2023/03/31/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Mar 31, 2023)</a>
                <a href="/news/2023/03/27/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Mar 27, 2023)</a>
                <a href="/news/2023/03/18/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Mar 18, 2023)</a>
                <a href="/news/2023/03/10/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Mar 10, 2023)</a>
                <a href="/news/2023/03/03/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Mar 3, 2023)</a>
                <a href="/news/2023/02/27/clojure-survey-2023" class="w-nav-link clj-section-nav-item-link">State of Clojure 2023 Survey</a>
                <a href="/news/2023/02/26/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Feb 26, 2023)</a>
                <a href="/news/2023/02/17/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Feb 17, 2023)</a>
                <a href="/news/2023/02/10/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Feb 10, 2023)</a>
                <a href="/news/2023/02/03/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Feb 3, 2023)</a>
                <a href="/news/2023/01/30/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Jan 30, 2023)</a>
                <a href="/news/2023/01/20/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Jan 20, 2023)</a>
                <a href="/news/2023/01/13/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Jan 13, 2023)</a>
                <a href="/news/2023/01/06/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Jan 6, 2023)</a>
                <a href="/news/2022/12/22/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 22, 2022)</a>
                <a href="/news/2022/12/16/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 16, 2022)</a>
                <a href="/news/2022/12/08/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 8, 2022)</a>
                <a href="/news/2022/12/02/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 2, 2022)</a>
                <a href="/news/2022/11/23/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 23, 2022)</a>
                <a href="/news/2022/11/18/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 18, 2022)</a>
                <a href="/news/2022/11/11/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 11, 2022)</a>
                <a href="/news/2022/11/04/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 4, 2022)</a>
                <a href="/news/2022/10/28/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 28, 2022)</a>
                <a href="/news/2022/10/21/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 21, 2022)</a>
                <a href="/news/2022/10/14/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 14, 2022)</a>
                <a href="/news/2022/10/10/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 10, 2022)</a>
                <a href="/news/2022/10/03/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 3, 2022)</a>
                <a href="/news/2022/09/26/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sep 26, 2022)</a>
                <a href="/news/2022/09/16/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sep 16, 2022)</a>
                <a href="/news/2022/09/09/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sep 9, 2022)</a>
                <a href="/news/2022/09/02/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sep 2, 2022)</a>
                <a href="/news/2022/08/26/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 26, 2022)</a>
                <a href="/news/2022/08/19/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 19, 2022)</a>
                <a href="/news/2022/08/12/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 12, 2022)</a>
                <a href="/news/2022/08/05/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 5, 2022)</a>
                <a href="/news/2022/07/30/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 30, 2022)</a>
                <a href="/news/2022/07/15/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 15, 2022)</a>
                <a href="/news/2022/07/08/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 8, 2022)</a>
                <a href="/news/2022/07/01/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 1, 2022)</a>
                <a href="/news/2022/06/30/clojure1-12-alpha1" class="w-nav-link clj-section-nav-item-link">Clojure 1.12.0-alpha1</a>
                <a href="/news/2022/06/24/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 24, 2022)</a>
                <a href="/news/2022/06/17/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 17, 2022)</a>
                <a href="/news/2022/06/10/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 10, 2022)</a>
                <a href="/news/2022/06/02/state-of-clojure-2022" class="w-nav-link clj-section-nav-item-link">State of Clojure 2022 Results</a>
                <a href="/news/2022/06/02/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 2, 2022)</a>
                <a href="/news/2022/05/27/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (May 27, 2022)</a>
                <a href="/news/2022/05/20/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (May 20, 2022)</a>
                <a href="/news/2022/05/13/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (May 13, 2022)</a>
                <a href="/news/2022/05/06/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (May 6, 2022)</a>
                <a href="/news/2022/04/29/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Apr 29, 2022)</a>
                <a href="/news/2022/04/22/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Apr 22, 2022)</a>
                <a href="/news/2022/04/14/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Apr 14, 2022)</a>
                <a href="/news/2022/04/08/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Apr 8, 2022)</a>
                <a href="/news/2022/04/05/clojure-1-11-1" class="w-nav-link clj-section-nav-item-link">Clojure 1.11.1 release</a>
                <a href="/news/2022/04/01/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Apr 1, 2022)</a>
                <a href="/news/2022/03/25/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Mar 25, 2022)</a>
                <a href="/news/2022/03/22/clojure-1-11-0" class="w-nav-link clj-section-nav-item-link">Clojure 1.11.0 release</a>
                <a href="/news/2022/03/20/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Mar 20, 2022)</a>
                <a href="/news/2022/03/11/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Mar 11, 2022)</a>
                <a href="/news/2022/03/04/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Mar 4, 2022)</a>
                <a href="/news/2022/02/28/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Feb 28, 2022)</a>
                <a href="/news/2022/02/22/clojure-2022-survey" class="w-nav-link clj-section-nav-item-link">State of Clojure 2022 Survey</a>
                <a href="/news/2022/02/18/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Feb 18, 2022)</a>
                <a href="/news/2022/02/14/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Feb 14, 2022)</a>
                <a href="/news/2022/02/04/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Feb 4, 2022)</a>
                <a href="/news/2022/01/28/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Jan 28, 2022)</a>
                <a href="/news/2022/01/21/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Jan 21, 2022)</a>
                <a href="/news/2022/01/14/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Jan 14, 2022)</a>
                <a href="/news/2022/01/07/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Jan 7, 2022)</a>
                <a href="/news/2021/12/23/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 23, 2021)</a>
                <a href="/news/2021/12/17/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 17, 2021)</a>
                <a href="/news/2021/12/10/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 10, 2021)</a>
                <a href="/news/2021/12/02/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Dec 2, 2021)</a>
                <a href="/news/2021/11/24/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 24, 2021)</a>
                <a href="/news/2021/11/19/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 19, 2021)</a>
                <a href="/news/2021/11/12/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 12, 2021)</a>
                <a href="/news/2021/11/5/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Nov 5, 2021)</a>
                <a href="/news/2021/10/29/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 29, 2021)</a>
                <a href="/news/2021/10/22/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 22, 2021)</a>
                <a href="/news/2021/10/14/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 14, 2021)</a>
                <a href="/news/2021/10/08/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Oct 8, 2021)</a>
                <a href="/news/2021/09/24/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sept 24, 2021)</a>
                <a href="/news/2021/09/17/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sept 17, 2021)</a>
                <a href="/news/2021/09/10/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sept 10, 2021)</a>
                <a href="/news/2021/09/03/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Sept 3, 2021)</a>
                <a href="/news/2021/08/27/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 27, 2021)</a>
                <a href="/news/2021/08/20/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 20, 2021)</a>
                <a href="/news/2021/08/13/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (Aug 13, 2021)</a>
                <a href="/news/2021/07/30/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 30, 2021)</a>
                <a href="/news/2021/07/23/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 23, 2021)</a>
                <a href="/news/2021/07/16/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 16, 2021)</a>
                <a href="/news/2021/07/09/source-libs-builds" class="w-nav-link clj-section-nav-item-link">Source Libs and Builds</a>
                <a href="/news/2021/07/09/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 9, 2021)</a>
                <a href="/news/2021/07/02/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (July 2, 2021)</a>
                <a href="/news/2021/06/25/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 25, 2021)</a>
                <a href="/news/2021/06/18/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 18, 2021)</a>
                <a href="/news/2021/06/11/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 11, 2021)</a>
                <a href="/news/2021/06/04/deref" class="w-nav-link clj-section-nav-item-link">Clojure Deref (June 4, 2021)</a>
                <a href="/news/2021/04/06/state-of-clojure-2021" class="w-nav-link clj-section-nav-item-link">State of Clojure 2021 Results</a>
                <a href="/news/2021/03/18/apis-serving-people-and-programs" class="w-nav-link clj-section-nav-item-link">Keyword argument functions now also accept maps</a>
                <a href="/news/2021/03/04/clojure1-10-3" class="w-nav-link clj-section-nav-item-link">Clojure 1.10.3 release</a>
                <a href="/news/2021/01/26/clojure1-10-2" class="w-nav-link clj-section-nav-item-link">Clojure 1.10.2 release</a>
                <a href="/news/2021/01/14/clojure-2021-survey" class="w-nav-link clj-section-nav-item-link">State of Clojure 2021 Survey</a>
                <a href="/news/2020/07/23/cognitect-joins-nubank" class="w-nav-link clj-section-nav-item-link">Cognitect Joins Nubank!</a>
                <a href="/news/2020/02/28/clojure-tap" class="w-nav-link clj-section-nav-item-link">Clojure Homebrew Tap</a>
                <a href="/news/2020/02/20/state-of-clojure-2020" class="w-nav-link clj-section-nav-item-link">State of Clojure 2020 Results</a>
                <a href="/news/2020/01/07/clojure-2020-survey" class="w-nav-link clj-section-nav-item-link">State of Clojure 2020 Survey</a>
                <a href="/news/2019/07/25/clojure-forum" class="w-nav-link clj-section-nav-item-link">Clojure Forum</a>
                <a href="/news/2019/06/06/clojure1-10-1" class="w-nav-link clj-section-nav-item-link">Clojure 1.10.1 release</a>
                <a href="/news/2019/05/16/jira-migration" class="w-nav-link clj-section-nav-item-link">JIRA Migration</a>
                <a href="/news/2019/02/04/state-of-clojure-2019" class="w-nav-link clj-section-nav-item-link">State of Clojure 2019 Results</a>
                <a href="/news/2019/01/07/clojure-2019-survey" class="w-nav-link clj-section-nav-item-link">State of Clojure 2019 Survey</a>
                <a href="/news/2018/12/17/clojure110" class="w-nav-link clj-section-nav-item-link">Clojure 1.10 release</a>
                <a href="/news/2018/03/19/state-of-clojure-2018" class="w-nav-link clj-section-nav-item-link">State of Clojure 2018 Results</a>
                <a href="/news/2018/01/05/git-deps" class="w-nav-link clj-section-nav-item-link">Git Deps for Clojure</a>
                <a href="/news/2017/12/08/clojure19" class="w-nav-link clj-section-nav-item-link">Clojure 1.9 is now available</a>
                <a href="/news/2017/01/31/state-of-clojure-2016" class="w-nav-link clj-section-nav-item-link">State of Clojure 2016 Results</a>
                <a href="/news/2016/05/23/introducing-clojure-spec" class="w-nav-link clj-section-nav-item-link">Introducing clojure.spec</a>
                <a href="/news/2016/01/28/state-of-clojure-2015" class="w-nav-link clj-section-nav-item-link">State of Clojure 2015 survey results</a>
                <a href="/news/2016/01/19/clojure18" class="w-nav-link clj-section-nav-item-link">Clojure 1.8 is now available</a>
                <a href="/news/2016/01/14/clojure-org-live" class="w-nav-link clj-section-nav-item-link">Welcome to the new clojure.org!</a>
                <a href="/news/2015/06/30/clojure-17" class="w-nav-link clj-section-nav-item-link">Clojure 1.7 is now available</a>
                <a href="/news/2014/08/06/transducers-are-coming" class="w-nav-link clj-section-nav-item-link">Transducers are Coming</a>
                <a href="/news/2013/06/28/clojure-clore-async-channels" class="w-nav-link clj-section-nav-item-link">Clojure core.async Channels</a>
                <a href="/news/2012/05/15/anatomy-of-reducer" class="w-nav-link clj-section-nav-item-link">Anatomy of a Reducer</a>
                <a href="/news/2012/05/08/reducers" class="w-nav-link clj-section-nav-item-link">Reducers - A Library and Model for Collection Processing</a>
                <a href="/news/2012/02/17/clojure-governance" class="w-nav-link clj-section-nav-item-link">Clojure Governance and How It Got That Way</a>
                <a href="/news/2011/07/22/introducing-clojurescript" class="w-nav-link clj-section-nav-item-link">Introducing ClojureScript</a>
          </nav>
          <div data-ix="toggle-section-nav-icon" class="w-nav-button w-clearfix clj-section-nav-toggle">
            <div class="clj-section-nav-text">Clojure Deref (Sept 17, 2021)</div>
            <div class="clj-section-nav-icon-closed">&#xeab2;</div>
            <div data-ix="init-hide-section-nav-icon-open" class="clj-section-nav-icon-open">&#xeab9;</div>
          </div>
        </div>
      </div>
    </div>

    <div class="clj-content-container">
      <h1>Clojure Deref (Sept 17, 2021)</h1>
      <p><em>17 September 2021</em><br/>
         <em>Alex Miller</em></p>

      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the Clojure Deref! This is a weekly link/news roundup for the Clojure ecosystem. (<a href="https://twitter.com/ClojureDeref">@ClojureDeref</a> <a href="https://clojure.org/feed.xml">RSS</a>)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_highlights"><a class="anchor" href="#_highlights"></a>Highlights</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This week we released <a href="https://clojure.org/releases/devchangelog#v1.11.0-alpha2">Clojure 1.11.0-alpha2</a> which pulls together several things the core team has been working on plus a variety of older bug fixes. I wanted to expand a bit more on some of the items in the release. In general, it&#8217;s worth digging into these jira tickets as we expend a fair amount of effort trying to making them good records of problem/alternatives/solution and I&#8217;m going to be heavily mining them here.</p>
</div>
<div class="paragraph">
<p><strong><a href="https://clojure.atlassian.net/browse/CLJ-2123">Add :as-alias option to require like :as but not load</a></strong></p>
</div>
<div class="paragraph">
<p>This was the <a href="https://ask.clojure.org/index.php/questions/clojure?sort=votes">most voted</a> open request on Ask Clojure and really stemmed from the big increase in qualified keyword usage from spec. In spec you might name a spec <code>:my.cool.domain/account</code> where "my.cool.domain" is not a "real" namespace that can be loaded, it&#8217;s just a useful qualifier. You can of course use the full qualifier every time but that can be tedious.</p>
</div>
<div class="paragraph">
<p>Clojure has long had namespace aliases, most commonly defined using the <code>:require</code> or <code>:use</code> clause of <code>ns</code>. However, both <code>require</code> and <code>use</code> bottom out in <code>load-file</code>, which loads the needed namespace before creating the alias. You can alternately use <code>create-ns</code> to create a runtime Namespace without loading, and then use <code>alias</code> to alias to it, and this has been the most common workaround (sometimes with some macro goo around it to make it easier).</p>
</div>
<div class="paragraph">
<p>We explored several different options for this, and they&#8217;re enumerated in CLJ-2123. We looked at changing <code>alias</code> to automatically create a runtime namespace, but this would change <code>alias</code> semantics, possibly in ways that would impact existing users. We looked at creating a new kind of keyword-only alias (I prototyped this - it was a terrible mess to retain backward portability). We looked at expanding <code>ns</code> to include a variant of <code>alias</code>, but this one would have been a breaking change for the spec (this is kind of a tangent) and we think would have been a bit harder to cover for existing ns analyzers than where we ended up, which was to add a new <code>:as-alias</code> clause to <code>require</code>, that is essentially like :as, but does not require a loaded namespace.</p>
</div>
<div class="paragraph">
<p>So you can then do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="clojure">(ns foo
  (:require [my.cool.domain :as-alias d])) ;; works! (doesn't load)

::d/account ;; valid</code></pre>
</div>
</div>
<div class="paragraph">
<p>The core.specs.alpha spec has been updated to include <code>:as-alias</code> and a new version of that library was built and is depended on by 1.11.0-alpha2. Important to note is that this was an additive (via <code>keys*</code>), not breaking, change.</p>
</div>
<div class="paragraph">
<p><strong><a href="https://clojure.atlassian.net/browse/CLJ-1959">update-keys</a> and <a href="https://clojure.atlassian.net/browse/CLJ-2651">update-vals</a></strong></p>
</div>
<div class="paragraph">
<p>Also, a highly voted old request, <code>update-keys</code> and <code>update-vals</code> are functions that have been rewritten many, many times in Clojure code bases and utility libraries (also often called <code>map-keys</code>/<code>map-vals</code>). When we look at stuff like this, we try to be clear about what challenges we believe are in or out of scope, how generic to make the implementation, what promises we should make in the docstring, and how to achieve the best performance given that. Other impls may make different choices than we did here, which is fine. For example, should this work on all associative types (like vectors?) or just maps? We decided covering the map case well was more important. There was a lot of perf testing done on implementation choices - that&#8217;s not all covered in the tickets.</p>
</div>
<div class="paragraph">
<p><strong><a href="https://clojure.atlassian.net/browse/CLJ-1879">IKVReduce - make old slow path (IPersistentMap) faster and extend to Object, removing impl ambiguity</a></strong></p>
</div>
<div class="paragraph">
<p>This is kind of an old ticket, but had a direct impact on testing for update-keys and update-vals, which rely on the IKVReduce protocol. Protocols are an open extension mechanism where choices are made based on type matching (including Java inheritance). The IKVReduce protocol also has an associated Java interface IKVReduce which can be used by Java implementation classes needing to hook into the protocol (similar pattern is used in other places as well inside Clojure&#8217;s impl). To cover this, the IKVReduce protocol is extended to both the IKVReduce interface (fast impl) and to the IPersistentMap interface (slow impl). If a concrete impl (like PersistentHashMap) matches multiple types, the "closest" one will match. However, PHM implements both of these and it&#8217;s essentially a "tie". What we&#8217;ve seen over the years is that based on the ordering of things returned from reflection, it&#8217;s possible for PHM to route to either of the two protocol extensions, sometimes leading to much slower results for reduce-kv.</p>
</div>
<div class="paragraph">
<p>We looked at a bunch of ways to resolve this - tweaks to reduce-kv, special cases for the built-in impls (PHM, PAM), adding a protocol preference system like multimethods have, etc. There are tradeoffs in all these approaches, some pretty significant. In the end we decided that another way to remove the ambiguity is to define the "slow fallback" implementation on Object, rather than on IPersistentMap. This widens the scope of what reduce-kv can be applied to, essentially changing it from "maps" to "colls that seq to map entries". The Object case is always a last resort case, so there is no longer any ambiguity - PHM will always take the "fast" through IKVReduce interface (self reduction). Also, this means that <code>reduce-kv</code> now works on java.util.Maps (another very old jira request) and potentially other useful things. Needless to say, there was a lot of perf testing done on this and several of the alternatives. Along the way, it seemed clear that the "slow" path fallback was a lot slower than it needed to be, so that was also rewritten for better performance. The major tradeoff in the solution we landed on is that <code>(satisfies? IKVReduce x)</code> is now true for everything. As an internal protocol rarely used directly, there is very little code in the wild doing anything like this (<a href="https://github.com/cgrand/xforms">xforms</a> is the most notable example we found and we&#8217;ve been consulting with Christophe about that one).</p>
</div>
<div class="paragraph">
<p>The end result of all this is that <code>reduce-kv</code> is faster in the "slow" case, will predictably use the "fast" case when it can, and can be applied to more types of colls.</p>
</div>
<div class="paragraph">
<p><strong>Other enhancements and bug fixes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://clojure.atlassian.net/browse/CLJ-1908">CLJ-1908</a> Add clojure.test api run-test and run-test-var to run single test with fixtures and report</p>
</li>
<li>
<p><a href="https://clojure.atlassian.net/browse/CLJ-2600">CLJ-2600</a> Don’t block realized? of delay on pending result</p>
</li>
<li>
<p><a href="https://clojure.atlassian.net/browse/CLJ-2649">CLJ-2649</a> Fix order of checks in some-fn and every-pred for 3 predicate case to match other unrollings</p>
</li>
<li>
<p><a href="https://clojure.atlassian.net/browse/CLJ-2636">CLJ-2636</a> Get rid of reflection on java.util.Properties when defining <strong>clojure-version</strong></p>
</li>
<li>
<p><a href="https://clojure.atlassian.net/browse/CLJ-2350">CLJ-2350</a> Improve keyword arity exception message</p>
</li>
<li>
<p><a href="https://clojure.atlassian.net/browse/CLJ-2444">CLJ-2444</a> Fix typo in test-vars docstring</p>
</li>
<li>
<p><a href="https://clojure.atlassian.net/browse/CLJ-1509">CLJ-1509</a> AOT compile more Clojure namespaces</p>
</li>
<li>
<p><a href="https://clojure.atlassian.net/browse/CLJ-2387">CLJ-2387</a> Fix off-by-one in socket server port validation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We&#8217;ve been working on creating some new internal processes for working through jiras, and this is the first chunk of those. We&#8217;re hoping to get a mixture of highly voted (important to the community), important from core team perspective, and low-hanging fruit into each 1.11 alpha/beta. I don&#8217;t have a prediction for when we will "finish" 1.11 as it depends a lot on what we decide to include, and that is an ongoing discussion.</p>
</div>
<div class="paragraph">
<p>As always, it&#8217;s a huge help to us if you can swap it into your build and just run your test suite to see if anything breaks (or is faster!). We&#8217;d love to hear that feedback, even if it&#8217;s "all good".</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_videos_and_podcasts"><a class="anchor" href="#_videos_and_podcasts"></a>Videos and podcasts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://www.youtube.com/watch?v=grL3DQyvneI">Turning your editor into a Clojure IDE with clojure-lsp</a> - Eric Dallo</p>
</li>
<li>
<p><a href="https://www.therepl.net/episodes/40/">The REPL</a> - Daniel Compton interviews Paulus Esterhazy</p>
</li>
<li>
<p><a href="https://clojurescriptpodcast.com/">ClojureScript Podcast</a> - Jacek Schae&#8217;s final part of the interview with lvh</p>
</li>
<li>
<p><a href="https://soundcloud.com/defn-771544745/76-the-desi-episode-with-kartik-gupta-and-hariom-gaur">defnpodcast</a> - The Desi Episode with Kartik Gupta and HariOm Gaur</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_blogs"><a class="anchor" href="#_blogs"></a>Blogs</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://davidvujic.blogspot.com/2021/09/clojurescript-amplified.html">ClojureScript. Amplified.</a> - David Vujic</p>
</li>
<li>
<p><a href="https://slipset.github.io/posts/all-your-base">Dependency injection, perhaps? Part 3</a> - Erik Assum</p>
</li>
<li>
<p><a href="https://arthurbarroso.github.io/testing-the-dom-using-shadow-and-reagent.html">Testing the DOM using shadow-cljs and Reagent</a> - Arthur Barroso</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_libraries_and_tools"><a class="anchor" href="#_libraries_and_tools"></a>Libraries and Tools</h2>
<div class="sectionbody">
<div class="paragraph">
<p>New releases and tools this week:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://vlaaad.github.io/reveal-pro">Reveal Pro</a> - Read Eval Visualize Loop for Clojure, Supercharged</p>
</li>
<li>
<p><a href="https://github.com/lk-geimfari/secrets.clj">secrets.clj</a> 1.0.0 - A Clojure library designed to generate cryptographically strong random numbers.</p>
</li>
<li>
<p><a href="https://github.com/seancorfield/build-uber-log4j2-handler">build-uber-log4j2-handler</a> v0.1.0 - A conflict handler for log4j2 plugins cache files for the tools.build uber task.</p>
</li>
<li>
<p><a href="https://github.com/seancorfield/build-clj">build-clj</a> v0.3.0 - Common build tasks abstracted into a library</p>
</li>
<li>
<p><a href="https://github.com/clojure/tools.build">tools.build</a> v0.5.0 - Library of functions to make Clojure builds</p>
</li>
<li>
<p><a href="https://github.com/oliyh/martian">martian</a> v0.1.18 - The HTTP abstraction library for Clojure/script, supporting Swagger, Schema, re-frame and more</p>
</li>
<li>
<p><a href="https://github.com/clj-kondo/clj-kondo">clj-kondo</a> <a href="https://github.com/clj-kondo/clj-kondo/blob/master/CHANGELOG.md#20210914">2021.09.15</a> - A linter for Clojure code that sparks joy</p>
</li>
<li>
<p><a href="https://github.com/johanthoren/julian">julian</a> 1.0.0 - A Clojure(Script) library to convert between Julian Day Number and common time</p>
</li>
<li>
<p><a href="https://github.com/erp12/fijit">fijit</a> 1.0.7 - A Clojure library for Scala interop</p>
</li>
<li>
<p><a href="https://github.com/FieryCod/holy-lambda">holy-lambda</a> 0.5.0 - The extraordinary simple, performant, and extensible custom AWS Lambda runtime for Clojure</p>
</li>
<li>
<p><a href="https://github.com/PEZ/clojure-exercism-template">clojure-exercism-template</a>  - Learn more Clojure and Interactive Programming with Exercism in the browser</p>
</li>
<li>
<p><a href="https://github.com/clojure-lsp/clojure-lsp">clojure-lsp</a> <a href="https://github.com/clojure-lsp/clojure-lsp/releases/tag/2021.09.13-19.32.00">2021.09.13-19.32.00</a> - Language Server (LSP) for Clojure</p>
</li>
<li>
<p><a href="https://github.com/clj-easy/graal-build-time">graal-build-time</a> 0.0.11 - Library to initialize Clojure packages at build time with GraalVM native-image</p>
</li>
<li>
<p><a href="https://convex.world/">https://convex.world/</a>  - Convex is an open, decentralised, and efficient technology platform built in the spirit of the original Internet</p>
</li>
<li>
<p><a href="https://github.com/eerohele/Tutkain">Tutkain</a> <a href="https://github.com/eerohele/Tutkain/blob/3700db4e194aeb9cc1f5b74aafe4ccd1588353e6/CHANGELOG.md#0100-alpha---2021-09-15">0.10.0</a> - A Sublime Text package for interactive Clojure development</p>
</li>
<li>
<p><a href="https://github.com/juji-io/datalevin">datalevin</a> 0.5.13 - A simple, fast and versatile Datalog database</p>
</li>
<li>
<p><a href="https://github.com/babashka/babashka">babashka</a> <a href="https://github.com/babashka/babashka/blob/master/CHANGELOG.md#061">0.6.1</a> - Native, fast starting Clojure interpreter for scripting</p>
</li>
<li>
<p><a href="https://github.com/athos/trenchman">trenchman</a> v0.3.0 - A standalone nREPL/prepl client written in Go and heavily inspired by Grenchman</p>
</li>
</ul>
</div>
</div>
</div>
    </div>
  </div>
</div>

  <div class="w-section clj-footer">
    <div class="w-container clj-footer-links-container">
      <div class="w-row">
        <div class="w-col w-col-3 w-col-small-6 w-col-tiny-6">
          <h6 class="clj-footer-heading">Community</h6>
            <a href="/community/resources" class="clj-footer-link">Resources</a>
            <a href="/community/contributing" class="clj-footer-link">Contributing</a>
            <a href="/community/companies" class="clj-footer-link">Companies</a>
            <a href="/community/contributing_site" class="clj-footer-link">Site</a>
          <h6 class="clj-footer-heading">Legal</h6>
            <a href="/community/license" class="clj-footer-link">License</a>
            <a href="/privacy" class="clj-footer-link">Privacy Policy</a>
        </div>
        <div class="w-col w-col-3 w-col-small-6 w-col-tiny-6">
          <h6 class="clj-footer-heading">Documentation</h6>
            <a href="/about/rationale" class="clj-footer-link">Overview</a>
            <a href="/reference/documentation" class="clj-footer-link">Reference</a>
            <a href="/api/api" class="clj-footer-link">API</a>
            <a href="/guides/guides" class="clj-footer-link">Guides</a>
            <a href="/community/libraries" class="clj-footer-link">Libraries &amp; Tools</a>
        </div>
        <div class="w-col w-col-3 w-col-small-6 w-col-tiny-6">
          <h6 class="clj-footer-heading">Updates</h6>
            <a href="/news/news" class="clj-footer-link">News</a>
            <a href="/community/events" class="clj-footer-link">Events</a>
          <h6 class="clj-footer-heading">ETC</h6>
            <a href="https://www.youtube.com/user/ClojureTV" class="clj-footer-link">ClojureTV</a>
            <a href="/community/books" class="clj-footer-link">Books</a>
            <a href="/community/swag" class="clj-footer-link">Swag</a>
        </div>
        <div class="w-col w-col-3 w-col-small-6 w-col-tiny-6">
          <h6 class="clj-footer-heading">Code</h6>
            <a href="/releases/downloads" class="clj-footer-link">Releases</a>
            <a href="https://github.com/clojure/clojure/" class="clj-footer-link">Source</a>
            <a href="http://clojurescript.org" class="clj-footer-link">ClojureScript</a>
            <a href="/about/clojureclr" class="clj-footer-link">ClojureCLR</a>
        </div>
      </div>
    </div>
    <div class="w-container clj-footer-legal-container">
      <div class="w-clearfix clj-footer-legal">
        <div class="clj-footer-logo">&nbsp;</div>
        <div class="clj-footer-legal-links">
          <div class="clj-footer-copyright">Copyright 2008-2022 Rich Hickey | <a class="clj-footer-sub-link" href="/privacy">Privacy Policy</a><br/>Logo &amp; site design by Tom Hickey
          </div>
          <div class="clj-footer-designed-by">Published 2023-12-18<br/>Update <a class="clj-footer-sub-link" href="https://github.com/clojure/clojure-site/blob/master/content/news/2021/09/17/deref.adoc">this page</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript" src="/js/webflow.js"></script>
  <script type="text/javascript" src="/js/highlight.pack.js"></script>
  <script>
  $(document).ready( (event) => {
    $('pre code').each((index, obj) => {
      $(obj).addClass($(obj).attr("data-lang"));
      hljs.highlightBlock(obj);
    });
  });
  </script>
  <!--[if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
</body>
</html>
